<%# Set the page title %>
<% @title = "Exam" %>

<div class="flex items-center justify-center">
  <div class="quiz-container max-w-full w-full sm:w-4/5 lg:w-2/5 bg-white rounded-lg shadow-lg overflow-hidden">
    <div class="p-6">
      <%# Timer display for the exam %>
      <div id="timer" class="text-right text-gray-700 font-semibold mb-4">
        Time left: <span id="time">00:00</span>
      </div>
      
      <%# Container for displaying the current question %>
      <div class="question p-4 rounded mb-4 bg-gradient-to-r from-fun-blue-500 to-fun-blue-600 text-white" id="question">
      </div>
      
      <%# Container for displaying SVG or image related to the question %>
      <div id="center-svg-container" class="flex justify-center mb-4">
        <div id="svg-container" class="w-36 h-36 flex items-center justify-center">
          <%# SVG or image content dynamically inserted here %>
        </div>
      </div>
      
      <%# Container for displaying options (answers) to the question %>
      <div id="options" class="space-y-2 flex flex-col">
        <!-- Options (answers) dynamically inserted here -->
      </div>
      
      <%# Button to proceed to the next question %>
      <div class="text-center mt-4">
        <button id="next-question" class="bg-fun-blue-500 hover:bg-fun-blue-700 text-white font-bold py-2 px-4 rounded">Next Question</button>
      </div>
      
      <%# Completion message displayed when the quiz is finished %>
      <div id="completion-message" class="p-6 hidden">
        <p class="text-center text-gray-600">Congratulations! You have completed the quiz.</p>
        <p class="text-center text-gray-600">You answered <span id="correct-answers"></span> questions correctly.</p>
        <p class="text-center text-gray-600">Thank you for participating.</p>
      </div>
    </div>
  </div>
</div>

<%# Script to initialize the exam when the window loads %>
<script>
  window.onload = function() {
    const examId = <%= @exam_id %>; // Retrieve exam ID from server-side
    setCurrentUser(<%= @publicUser.to_json %>); // Set current user information
    fetchQaIds(examId); // Fetch question and answer IDs for the exam
  };
</script>

<%# Include the JavaScript file responsible for quiz functionality %>
<script src="/js/quiz.js"></script>
