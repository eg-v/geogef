<% @title =  "Dashboard" %>

<!-- Main Content -->
<div class="container mx-auto flex flex-cols gap-8">

    <!-- Map Container -->
    <div class="w-full md:w-1/2 bg-white bg-opacity-80 p-4 rounded-xl shadow-md">
        <div id="map" class="h-96"></div>
    </div>

    <!-- Curious Facts Container -->
    <div class="w-full md:w-1/2 bg-white bg-opacity-80 p-4 rounded-xl shadow-md">
        <div id="curious-facts" class="space-y-4"></div>
    </div>

</div>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var map = L.map('map').setView([0, 0], 2);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        var curiousFacts = [
              { title: 'Altitud del Monte Everest', fact: '8,848 metros' },
              { title: 'Punto más profundo del océano', fact: 'La fosa de las Marianas, 10,994 metros' },
              { title: 'País más grande del mundo por área', fact: 'Rusia' },
              { title: 'Río más largo del mundo', fact: 'El río Amazonas, con una longitud aproximada de 6,400 km' },
              { title: 'Lago más grande del mundo por área de superficie', fact: 'El mar Caspio' },
              { title: 'Ciudad más poblada del mundo', fact: 'Tokio, Japón' },
              { title: 'Ciudad más alta del mundo', fact: 'La Rinconada, Perú' },
              { title: 'País más pequeño del mundo', fact: 'Ciudad del Vaticano' },
              { title: 'Desierto más grande del mundo', fact: 'El desierto de Antártida' },
              { title: 'Montaña más alta fuera del sistema Himalaya', fact: 'El monte Aconcagua en Argentina, con 6,959 metros de altura' },
              { title: 'Volcán más alto del mundo', fact: 'El volcán Ojos del Salado en la frontera entre Argentina y Chile, con 6,893 metros de altura' },
              { title: 'Lago más profundo del mundo', fact: 'El lago Baikal en Rusia, con 1,642 metros de profundidad' },
              { title: 'Lago más salado del mundo', fact: 'El mar Muerto' },
              { title: 'País con más islas', fact: 'Suecia' },
              { title: 'País sin ríos', fact: 'Arabia Saudita' },
              { title: 'Río más caudaloso del mundo', fact: 'El río Amazonas' },
              { title: 'Río más corto del mundo', fact: 'El río Roe en el estado de Montana, EE. UU., con solo 61 metros de longitud' },
              { title: 'Ciudad más antigua del mundo', fact: 'Damasco, Siria' },
              { title: 'País más densamente poblado del mundo', fact: 'Mónaco' },
              { title: 'País más plano del mundo', fact: 'Maldivas' },
              { title: 'País con más volcanes', fact: 'Indonesia' },
              { title: 'País con más fronteras internacionales', fact: 'China' },
              { title: 'País con más idiomas oficiales', fact: 'Zimbabue' },
              { title: 'Río más ancho del mundo', fact: 'El río Amazonas' },
              { title: 'Mayor isla del mundo', fact: 'Groenlandia' },
              { title: 'País más llano del mundo', fact: 'Maldivas' },
              { title: 'País con más lagos', fact: 'Canadá' },
              { title: 'País con más variedad de climas', fact: 'Brasil' },
              { title: 'País más montañoso del mundo', fact: 'Bután' },
              { title: 'País con más tiempo en horas de sol al año', fact: 'Níger' },
              { title: 'País con más ríos', fact: 'Bangladesh' },
              { title: 'País con más tiempo en horas de luz al día', fact: 'Finlandia' },
              { title: 'País con más ciudades elevadas a más de 3,000 metros', fact: 'Bolivia' },
              { title: 'País más pequeño de América Latina', fact: 'San Cristóbal y Nieves' },
              { title: 'País más pequeño de Europa', fact: 'Vaticano' },
              { title: 'País más grande de América del Sur', fact: 'Brasil' },
              { title: 'País con más variedad de climas', fact: 'Chile' },
              { title: 'País con más islas', fact: 'Suecia' },
              { title: 'País con mayor cantidad de lagos', fact: 'Finlandia' },
              { title: 'País con mayor cantidad de ríos', fact: 'Bangladesh' },
              { title: 'País con mayor cantidad de montañas', fact: 'Nepal' },
              { title: 'País con mayor cantidad de desiertos', fact: 'Australia' },
              { title: 'País con más fronteras terrestres', fact: 'China' },
              { title: 'País con más tiempo de luz solar al año', fact: 'Brasil' },
              { title: 'País con más diversidad de paisajes', fact: 'México' },
              { title: 'País con más islas volcánicas', fact: 'Indonesia' },
              { title: 'País con la mayor concentración de ríos', fact: 'Bangladesh' },
              { title: 'País con la mayor variedad de climas', fact: 'Brasil' },
              { title: 'País con la mayor altitud promedio', fact: 'Bután' }
        ];

        function createCuriousFactCard(title, fact) {
            return `<div class="bg-white p-4 rounded-lg shadow-md">
                        <h2 class="text-xl font-bold">${title}</h2>
                        <p class="text-gray-700">${fact}</p>
                    </div>`;
        }

        function updateCuriousFacts() {
            var factsContainer = document.getElementById('curious-facts');
            factsContainer.innerHTML = '';
            for (var i = 0; i < 4; i++) {
                var randomIndex = Math.floor(Math.random() * curiousFacts.length);
                var fact = curiousFacts[randomIndex];
                var card = createCuriousFactCard(fact.title, fact.fact);
                factsContainer.insertAdjacentHTML('beforeend', card);
            }
        }

        updateCuriousFacts();

        function showNextCard() {
            var cards = document.querySelectorAll('#curious-facts .bg-white');
            cards.forEach(function (card) {
                card.style.opacity = 0;
                setTimeout(function () {
                    card.remove();
                    updateCuriousFacts();
                }, 300);
            });
        }

        setInterval(showNextCard, 10000);
    });
</script>

